# RAG理解度テスト - 問題004

## 問題情報
- **問題番号**: 004
- **カテゴリ**: データフロー（流れ・仕組み）
- **難易度**: 初級
- **作成日時**: 2026-01-26 13:03:58

## 問題文

**Q4. RAGアプリのインデックス構築の流れを説明してください。ドキュメントの読み込みから、ベクトルDBへの保存までの各ステップを、このアプリの実装に基づいて説明してください。**

---

## 回答欄

（ここに回答を記入してください）
ドキュメント読み込み→チャンキング→エンベディング→ベクトルDB(ChromaDB)
---

## 評価欄

### 理解度評価
- [x] レベル1（基礎）: 用語を説明できる、基本的な流れを理解している
- [ ] レベル2（応用）: 技術の仕組みを説明できる、手法の違いを理解している
- [ ] レベル3（実践）: 実装の詳細を説明できる、精度向上の方法を提案できる

### 評価コメント
**良い点：**
- 基本的な流れ（読み込み→チャンキング→エンベディング→ベクトルDB）を理解している
- 使用しているベクトルDB（ChromaDB）を認識している

**改善点：**
- 各ステップの詳細が不足している
  - **ドキュメント読み込み**：`app/docs/loader.py`でtxt/pdfを読み込み、`Document`形式に統一
  - **チャンキング**：`app/docs/chunker.py`で見出し優先戦略で分割、カテゴリ別にchunk_size/chunk_overlapを設定
  - **エンベディング**：`app/rag/embedding.py`でE5モデルを使用、passage prefixを付与
  - **ベクトルDB保存**：`app/rag/vectorstore.py`でChromaDBに保存、メタデータ（source, page, chunk_index）も一緒に保存
- 「このアプリの実装に基づいて」という要求に対して、実装の詳細が不足

### 不足している知識
- 各ステップの実装ファイルと処理内容
- メタデータの管理方法（source, page, chunk_index）
- E5モデルの特徴（query/passage prefix）

### 改善点
- 各ステップの実装ファイルと処理内容を説明できるとレベル2に到達
- なぜその実装方法を選んだか（見出し優先戦略の理由など）を説明できるとレベル3

---

## 参考情報

このアプリの実装を確認する場合:
- `backend/app/rag/indexer.py` でインデックス構築の実装を確認
- `backend/app/docs/loader.py` でドキュメント読み込みを確認
- `backend/app/rag/embedding.py` でEmbedding生成を確認
- `backend/app/rag/vectorstore.py` でベクトルDB保存を確認
