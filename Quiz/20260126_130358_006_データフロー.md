# RAG理解度テスト - 問題006

## 問題情報
- **問題番号**: 006
- **カテゴリ**: データフロー（流れ・仕組み）
- **難易度**: 中級
- **作成日時**: 2026-01-26 13:03:58

## 問題文

**Q6. このアプリのQA機能とQuiz機能の違いを説明してください。特に、検索手法（ハイブリッド検索 vs サンプリング）の違いと、それぞれの目的について説明してください。**

---

## 回答欄

（ここに回答を記入してください）
QAでは意味検索とキーワード検索のハイブリッド方式で引用候補の検索をかける。Quizでは、それぞれのチャンクを出題箇所としてサンプリングをし、それをもとにLLMがプロンプトテンプレートに沿って○×クイズを生成する。
---

## 評価欄

### 理解度評価
- [x] レベル1（基礎）: 用語を説明できる、基本的な流れを理解している
- [x] レベル2（応用）: 技術の仕組みを説明できる、手法の違いを理解している
- [ ] レベル3（実践）: 実装の詳細を説明できる、精度向上の方法を提案できる

### 評価コメント
**良い点：**
- QAとQuizの違いを正しく理解している
- 検索手法の違い（ハイブリッド検索 vs サンプリング）を認識している
- それぞれの目的（QAは質問に答える、Quizは問題を生成する）を理解している

**改善点：**
- 「サンプリング」という表現はやや曖昧。実装では、Quiz機能は`app/quiz/retrieval.py`でチャンクをランダムにサンプリングしている
- より正確には：
  - **QA機能**：質問に基づいてハイブリッド検索で関連チャンクを取得し、それらを根拠にLLMが回答を生成
  - **Quiz機能**：チャンクをランダムにサンプリングし、そのチャンクを材料にLLMが○×問題を生成（検索は使わない）
- なぜQuizでサンプリングを使うのか：多様な問題を生成するため、特定の質問に依存しないため

### 不足している知識
- Quiz機能の具体的な実装（`app/routers/quiz.py`、`app/quiz/retrieval.py`）
- サンプリングの方法（ランダム選択、重複排除など）
- Quiz生成時のプロンプトテンプレート

### 改善点
- 実装の詳細（サンプリング方法、プロンプトテンプレート）を説明できるとレベル3に到達

---

## 参考情報

このアプリの実装を確認する場合:
- `backend/app/routers/ask.py` でQA機能を確認
- `backend/app/routers/quiz.py` でQuiz機能を確認
- `backend/app/quiz/retrieval.py` でQuiz用サンプリングを確認
- `docs/09_技術スタックとデータフロー.md` で両機能の違いを確認
