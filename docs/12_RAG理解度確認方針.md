# RAG理解度確認方針

## 1. 目的

現在のRAGアプリを使いながらRAGについて学習する過程で、RAG構築業務に必要な知識が身についているかを段階的に確認する。

## 2. テスト対象の知識領域

### 2.1 RAGの基本概念（用語の理解）
- RAGとは何か、なぜ必要か
- Retrieval、Augmentation、Generationの各段階の役割
- Citation（引用）の重要性
- チャンク（Chunk）とは何か

### 2.2 RAGの流れ・仕組み（データフロー）
- インデックス構築の流れ（ドキュメント読み込み→チャンキング→Embedding→ベクトルDB保存）
- 検索・生成の流れ（質問→検索→引用取得→LLM生成）
- QA機能とQuiz機能の違い

### 2.3 検索手法
- Semantic検索（意味検索）の仕組みと特徴
- キーワード検索（BM25等）の仕組みと特徴
- ハイブリッド検索の必要性と実装方法
- RRF（Reciprocal Rank Fusion）の仕組み
- Cross-Encoderリランキングの役割と精度向上効果

### 2.4 EmbeddingとベクトルDB
- Embeddingとは何か、なぜ必要か
- ベクトル類似度（コサイン類似度等）の計算方法
- ベクトルDB（ChromaDB等）の役割
- E5モデルの特徴（query/passage prefix）

### 2.5 チャンキング戦略
- チャンキングの目的
- チャンクサイズとオーバーラップの影響
- LEN戦略、見出し優先戦略等の違い
- チャンキングが検索精度に与える影響

### 2.6 LLMの知識
- LLMの役割（Generation段階）
- プロンプトエンジニアリングの重要性
- ローカルLLM（Ollama）とクラウドLLM（Gemini等）の違い
- コンテキストウィンドウとトークン制限

### 2.7 精度向上の方法
- 検索精度を上げる方法（ハイブリッド検索、リランキング等）
- チャンキング戦略の最適化
- プロンプトの改善方法
- 引用の質を高める方法

### 2.8 実装の詳細（このアプリの実装）
- このアプリで使用している技術スタック
- ハイブリッド検索の実装詳細（RRF融合、リランキング）
- Quiz機能のサンプリング戦略
- エラーハンドリングとフォールバック

## 3. テスト形式

### 3.1 問題形式
- **用語説明問題**: 用語の意味を説明できるか
- **流れ説明問題**: 処理の流れを説明できるか
- **仕組み説明問題**: 技術の仕組みを説明できるか
- **比較問題**: 複数の手法の違いを説明できるか
- **実装問題**: 実装の詳細を説明できるか
- **応用問題**: 精度向上の方法を提案できるか

### 3.2 難易度レベル
- **初級**: 基本用語の理解、基本的な流れの説明
- **中級**: 技術の仕組みの説明、手法の比較
- **上級**: 実装の詳細、精度向上の提案

## 4. 評価基準

### 4.1 理解度レベル
- **レベル1（基礎）**: 用語を説明できる、基本的な流れを理解している
- **レベル2（応用）**: 技術の仕組みを説明できる、手法の違いを理解している
- **レベル3（実践）**: 実装の詳細を説明できる、精度向上の方法を提案できる

### 4.2 評価方法
- 各問題に対して、説明の正確性・完全性・具体性を評価
- 理解度レベルを記録し、時系列で追跡
- 不足している知識領域を特定し、学習の方向性を明確化

## 5. テスト実施方法

### 5.1 実施タイミング
- 学習の各段階で実施（初回、中間、最終）
- 新しい知識領域を学習した後
- 実装を理解した後

### 5.2 記録方法
- 問題ごとにファイルを分けて保存（`Quiz/`ディレクトリ）
- ファイル名: `YYYYMMDD_HHMMSS_問題番号_カテゴリ.md`
- 各ファイルに以下を記録:
  - 問題文
  - 回答
  - 理解度評価（レベル1-3）
  - フィードバック（不足している知識、改善点）

### 5.3 時系列追跡
- 同じカテゴリの問題を複数回実施し、理解度の変化を追跡
- 理解度が向上した領域、まだ不足している領域を可視化

## 6. 学習の方向性

### 6.1 基礎固め
- 用語の正確な理解
- 基本的な流れの把握
- 各技術の役割の理解

### 6.2 実装理解
- このアプリの実装詳細の理解
- コードを読んで処理の流れを追える
- パラメータの意味と影響を理解

### 6.3 応用力
- 精度向上の方法を提案できる
- 新しい手法を理解して適用できる
- 問題を特定して解決策を考えられる

## 7. 次のステップ

1. 理解度テストの実施（各カテゴリから問題を出題）
2. 回答の記録と評価
3. 不足している知識領域の特定
4. 学習計画の調整
5. 定期的な再テストによる理解度の追跡
