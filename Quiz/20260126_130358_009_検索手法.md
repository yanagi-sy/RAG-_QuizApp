# RAG理解度テスト - 問題009

## 問題情報
- **問題番号**: 009
- **カテゴリ**: 検索手法
- **難易度**: 上級
- **作成日時**: 2026-01-26 13:03:58

## 問題文

**Q9. Cross-Encoderリランキングとは何ですか？Bi-Encoder（Semantic検索）との違いを説明してください。このアプリでは、Cross-Encoderリランキングをどのように実装し、どのような効果を期待していますか？また、なぜ計算コストが高いと言われるのでしょうか？**

---

## 回答欄

（ここに回答を記入してください）
未回答

---

## 評価欄

### 理解度評価
- [ ] レベル1（基礎）: 用語を説明できる、基本的な流れを理解している
- [ ] レベル2（応用）: 技術の仕組みを説明できる、手法の違いを理解している
- [ ] レベル3（実践）: 実装の詳細を説明できる、精度向上の方法を提案できる

### 評価コメント
**未回答のため評価できません。**

**解説：**
- **Cross-Encoderリランキング**：質問とドキュメントのペアごとに関連度スコアを計算し、候補を再ソートする手法
- **Bi-Encoder（Semantic検索）との違い**：
  - Bi-Encoder：質問とドキュメントを別々にエンコードしてベクトル化し、コサイン類似度で比較（高速だが精度がやや低い）
  - Cross-Encoder：質問とドキュメントを同時に入力して、直接関連度スコアを計算（高精度だが計算コストが高い）
- **このアプリでの実装**：`app/search/reranker.py`でCross-Encoderを使用。RRF融合後の上位rerank_n件を再スコアリングし、最終的なtop_k件を選定
- **計算コストが高い理由**：各(query, document)ペアごとにモデルを実行する必要があるため。Bi-Encoderは一度エンコードすれば類似度計算は高速だが、Cross-Encoderは各ペアごとに計算が必要

### 不足している知識
- Cross-EncoderとBi-Encoderの違い
- なぜ計算コストが高いのか
- このアプリでの実装方法と効果

### 改善点
- 上記の解説を参考に回答を記入してください

---

## 参考情報

このアプリの実装を確認する場合:
- `backend/app/search/reranker.py` でCross-Encoderリランキングの実装を確認
- `backend/app/rag/hybrid_retrieval.py` の `_perform_reranking` 関数を確認
- `backend/app/core/settings.py` でリランキング関連のパラメータを確認
