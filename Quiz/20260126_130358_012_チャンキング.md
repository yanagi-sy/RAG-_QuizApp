# RAG理解度テスト - 問題012

## 問題情報
- **問題番号**: 012
- **カテゴリ**: チャンキング戦略
- **難易度**: 中級
- **作成日時**: 2026-01-26 13:03:58

## 問題文

**Q12. このアプリでは、どのようなチャンキング戦略を使用していますか？見出し優先戦略とは何ですか？また、カテゴリ（FAQ/一般/技術/長文）ごとにchunk_sizeとchunk_overlapを変えている理由を説明してください。**

---

## 回答欄

（ここに回答を記入してください）
このアプリでは、文脈保持、生成内容の精度向上のために総文字数と見出しを基準に適切なチャンキング戦略を割り当てています。
---

## 評価欄

### 理解度評価
- [x] レベル1（基礎）: 用語を説明できる、基本的な流れを理解している
- [ ] レベル2（応用）: 技術の仕組みを説明できる、手法の違いを理解している
- [ ] レベル3（実践）: 実装の詳細を説明できる、精度向上の方法を提案できる

### 評価コメント
**良い点：**
- チャンキング戦略の目的（文脈保持、精度向上）を理解している
- 見出しを基準にしていることを認識している

**改善点：**
- **見出し優先戦略の詳細が不足**：
  - 見出し（`##`、`###`）が来たら、chunk_sizeに達していなくても強制的に切る
  - overlapは見出しをまたがない（見出しの直前で終了）
  - 見出しがない場合は従来通り固定長で切る
- **カテゴリ別の設定が不足**：
  - FAQ（1200文字未満）：chunk_size=400, chunk_overlap=40
  - 一般（1200〜8000文字）：chunk_size=800, chunk_overlap=80
  - 技術（8000〜20000文字）：chunk_size=1000, chunk_overlap=180
  - 長文（20000文字以上）：chunk_size=1300, chunk_overlap=250
- **なぜカテゴリ別に変えるのか**：
  - 短い文書（FAQ）は細かく分割して、より正確に検索できるようにする
  - 長い文書（長文）は大きめに分割して、文脈を保持する

### 不足している知識
- 見出し優先戦略の具体的な実装方法
- カテゴリ別のchunk_size/chunk_overlapの具体的な値
- カテゴリ判定の方法（文字数による判定）

### 改善点
- 見出し優先戦略とカテゴリ別設定を詳しく説明できるとレベル2に到達
- 実装の詳細（`app/docs/chunker.py`）を説明できるとレベル3

---

## 参考情報

このアプリの実装を確認する場合:
- `backend/app/docs/chunker.py` でチャンキングの実装を確認
- `docs/09_技術スタックとデータフロー.md` でチャンキング戦略を確認
