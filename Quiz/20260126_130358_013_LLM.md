# RAG理解度テスト - 問題013

## 問題情報
- **問題番号**: 013
- **カテゴリ**: LLMの知識
- **難易度**: 中級
- **作成日時**: 2026-01-26 13:03:58

## 問題文

**Q13. RAGにおけるLLMの役割を説明してください。このアプリでは、LLMにどのようなプロンプトを送信していますか？プロンプトエンジニアリングの重要性について説明してください。**

---

## 回答欄

（ここに回答を記入してください）
RAGにおけるLLMの役割は検索結果の根拠をもとに文章生成を行うことです。
---

## 評価欄

### 理解度評価
- [x] レベル1（基礎）: 用語を説明できる、基本的な流れを理解している
- [ ] レベル2（応用）: 技術の仕組みを説明できる、手法の違いを理解している
- [ ] レベル3（実践）: 実装の詳細を説明できる、精度向上の方法を提案できる

### 評価コメント
**良い点：**
- LLMの基本的な役割（検索結果の根拠をもとに文章生成）を理解している

**改善点：**
- **プロンプトの内容が不足**。このアプリでは`app/llm/prompt.py`の`build_messages`関数でプロンプトを構築：
  - **systemプロンプト**：根拠に基づく回答を指示。「提供された根拠のみを基に回答」「根拠に含まれていない情報は推測せず、『根拠からは分かりません』と述べる」
  - **userプロンプト**：質問と根拠（citations）を提示。各citationにはsource、page、quoteが含まれる
- **プロンプトエンジニアリングの重要性**：
  - 適切なプロンプト設計により、LLMが根拠に基づいた回答を生成できる
  - 不適切なプロンプトだと、LLMが推測や記憶に基づいて回答してしまう可能性がある
  - このアプリでは、「根拠のみを基に回答」という明確な指示により、RAGの精度を向上させている

### 不足している知識
- 具体的なプロンプトの内容（system/user）
- プロンプトエンジニアリングの重要性と具体的な手法
- なぜこのプロンプト設計が有効なのか

### 改善点
- プロンプトの具体的な内容を説明できるとレベル2に到達
- プロンプトエンジニアリングの重要性と、このアプリでの設計意図を説明できるとレベル3

---

## 参考情報

このアプリの実装を確認する場合:
- `backend/app/llm/prompt.py` でプロンプト生成の実装を確認
- `backend/app/llm/ollama.py` でLLM呼び出しの実装を確認
