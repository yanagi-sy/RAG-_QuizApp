# RAG理解度テスト - 問題007

## 問題情報
- **問題番号**: 007
- **カテゴリ**: 検索手法
- **難易度**: 中級
- **作成日時**: 2026-01-26 13:03:58

## 問題文

**Q7. Semantic検索（意味検索）とキーワード検索（BM25等）の違いを説明してください。それぞれの長所・短所、どのような場面で有効かを説明してください。また、このアプリではどのように両者を組み合わせていますか？**

---

## 回答欄

（ここに回答を記入してください）
意味検索は、質問とドキュメント内情報のベクトル値の近似度合いから検索する方法であり、長所は質問とドキュメントの意味を拾うことができ、質問意図が生成に反映されやすい。短所は、専門用語や具体的な内容の検索精度が落ちる。
キーワード検索は、質問とドキュメント内情報の語彙の一致から検索する方法であり、長所は質問内の専門用語や語彙が直接明示された箇所を参照することができる点。短所は意味が拾えず、質問の意図が生成に反映されにくい点。
このアプリでは、意味検索1.0-nの方法で意味検索とキーワード検索のweightを調節ができる。

---

## 評価欄

### 理解度評価
- [x] レベル1（基礎）: 用語を説明できる、基本的な流れを理解している
- [x] レベル2（応用）: 技術の仕組みを説明できる、手法の違いを理解している
- [ ] レベル3（実践）: 実装の詳細を説明できる、精度向上の方法を提案できる

### 評価コメント
**良い点：**
- Semantic検索とキーワード検索の違いを正しく理解している
- それぞれの長所・短所を具体的に説明できている
- 「意味検索1.0-nの方法で意味検索とキーワード検索のweightを調節ができる」という実装の理解がある

**改善点：**
- 「意味検索1.0-n」という表現は誤り。正しくは「semantic_weightとkeyword_weightの合計が1.0になるように調整する」または「semantic_weightを0.0〜1.0の範囲で設定し、keyword_weight = 1.0 - semantic_weightとする」
- 実装では、`app/rag/hybrid_retrieval.py`の`hybrid_retrieval`関数で、semantic_weightとkeyword_weightを受け取り、RRF融合で使用している
- 「どのような場面で有効か」についても触れると良い
  - Semantic検索：質問の意図を理解したい場合、同義語や言い換えに対応したい場合
  - キーワード検索：専門用語や固有名詞を正確に検索したい場合、スペルミスや表記ゆれに対応したい場合

### 不足している知識
- RRF融合の具体的な実装方法
- weightの調整方法（フロントエンドのスライダーで調整可能）
- 実際の使用例（どのweight設定がどの場面で有効か）

### 改善点
- RRF融合の計算式と実装を詳しく説明できるとレベル3に到達

---

## 参考情報

このアプリの実装を確認する場合:
- `backend/app/rag/vectorstore.py` でSemantic検索の実装を確認
- `backend/app/search/index.py` でキーワード検索の実装を確認
- `backend/app/rag/hybrid_retrieval.py` でハイブリッド検索の実装を確認
